function openMarker(t,e){jQuery(".responsive-map").each(function(o){jQuery(this).data("gmap")&&t==o+1&&google.maps.event.trigger(jQuery(this).gMapResp("getMarker",e),"click")})}function resmap_addLocatemeButton(t){var e=document.createElement("div");e.id="locatemediv";var o=document.createElement("button");o.id="locatemeFirstChild",o.title="Your Location",o.type="button",e.appendChild(o);var n=document.createElement("div");n.id="locatemeSecondChild",o.appendChild(n);var i=document.createElement("div");i.id="locatemeThirdChild",n.appendChild(i),o.addEventListener("click",function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);t.setCenter(o);new google.maps.Marker({position:o,icon:{path:"M-20,0a20,20 0 1,0 40,0a20,20 0 1,0 -40,0",strokeColor:"#BBBBBB",strokeWeight:6,fillColor:"#666666",fillOpacity:.8,scale:.7},map:t,title:""})})}),e.index=1,t.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(e)}function resmap_createSearchBox(t){var e=document.createElement("div"),o=document.createElement("input");e.appendChild(o),e.setAttribute("id","locationDiv"),o.setAttribute("id","locationInput"),t.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(e);var n=new google.maps.places.Autocomplete(o,{types:["geocode"]});google.maps.event.addListener(n,"place_changed",function(){var e=n.getPlace();e&&e.geometry&&e.geometry.viewport?t.fitBounds(e.geometry.viewport):e.geometry&&(t.setCenter(e.geometry.location),t.setZoom(17))}),o.onkeyup=resmap_submitGeocode(o)}function resmap_submitGeocode(t){return function(e){(window.event?13==window.event.which||13==window.event.keyCode:13==e.which)&&"undefined"!=typeof geocoder&&geocoder.geocode({address:t.value},function(t,e){e==google.maps.GeocoderStatus.OK&&map.fitBounds(t[0].geometry.viewport)})}}!function(){var t,e=null;function o(t){return function(e){this[t]=e}}function n(t){return function(){return this[t]}}function i(t,o,n){this.extend(i,google.maps.OverlayView),this.c=t,this.a=[],this.f=[],this.ca=[53,56,66,78,90],this.j=[],this.A=!1,n=n||{},this.g=n.gridSize||60,this.l=n.minimumClusterSize||2,this.J=n.maxZoom||e,this.j=n.styles||[],this.X=n.imagePath||this.Q,this.W=n.imageExtension||this.P,this.O=!0,null!=n.zoomOnClick&&(this.O=n.zoomOnClick),this.r=!1,null!=n.averageCenter&&(this.r=n.averageCenter),function(t){if(!t.j.length)for(var e,o=0;e=t.ca[o];o++)t.j.push({url:t.X+(o+1)+"."+t.W,height:e,width:e})}(this),this.setMap(t),this.K=this.c.getZoom();var r=this;google.maps.event.addListener(this.c,"zoom_changed",function(){var t=r.c.getZoom();r.K!=t&&(r.K=t,r.m())}),google.maps.event.addListener(this.c,"idle",function(){r.i()}),o&&o.length&&this.C(o,!1)}function r(t,e){e.s=!1,e.draggable&&google.maps.event.addListener(e,"dragend",function(){e.s=!1,t.L()}),t.a.push(e)}function a(t,o){var n=-1;if(t.a.indexOf)n=t.a.indexOf(o);else for(var i,r=0;i=t.a[r];r++)if(i==o){n=r;break}return-1!=n&&(o.setMap(e),t.a.splice(n,1),!0)}function s(t){if(t.A)for(var o,n=t.v(new google.maps.LatLngBounds(t.c.getBounds().getSouthWest(),t.c.getBounds().getNorthEast())),i=0;o=t.a[i];i++)if(!o.s&&n.contains(o.getPosition())){for(var r=t,a=4e4,s=e,p=0,h=void 0;h=r.f[p];p++){if(u=h.getCenter()){var c=o.getPosition();if(u&&c){var d=(c.lat()-u.lat())*Math.PI/180,g=(c.lng()-u.lng())*Math.PI/180,u=Math.sin(d/2)*Math.sin(d/2)+Math.cos(u.lat()*Math.PI/180)*Math.cos(c.lat()*Math.PI/180)*Math.sin(g/2)*Math.sin(g/2);u=12742*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}else u=0;u<a&&(a=u,s=h)}}s&&s.F.contains(o.getPosition())?s.q(o):((h=new l(r)).q(o),r.f.push(h))}}function l(t){this.k=t,this.c=t.getMap(),this.g=t.w(),this.l=t.l,this.r=t.r,this.d=e,this.a=[],this.F=e,this.n=new h(this,t.z(),t.w())}function p(t){t.F=t.k.v(new google.maps.LatLngBounds(t.d,t.d))}function h(t,o,n){t.k.extend(h,google.maps.OverlayView),this.j=o,this.fa=n||0,this.u=t,this.d=e,this.c=t.getMap(),this.B=this.b=e,this.t=!1,this.setMap(this.c)}function c(t,e){var o=t.getProjection().fromLatLngToDivPixel(e);return o.x-=parseInt(t.p/2,10),o.y-=parseInt(t.h/2,10),o}function d(t){t.b&&(t.b.style.display="none"),t.t=!1}function g(t,e){var o=[];return o.push("background-image:url("+t.da+");"),o.push("background-position:"+(t.D?t.D:"0 0")+";"),"object"==typeof t.e?("number"==typeof t.e[0]&&t.e[0]>0&&t.e[0]<t.h?o.push("height:"+(t.h-t.e[0])+"px; padding-top:"+t.e[0]+"px;"):o.push("height:"+t.h+"px; line-height:"+t.h+"px;"),"number"==typeof t.e[1]&&t.e[1]>0&&t.e[1]<t.p?o.push("width:"+(t.p-t.e[1])+"px; padding-left:"+t.e[1]+"px;"):o.push("width:"+t.p+"px; text-align:center;")):o.push("height:"+t.h+"px; line-height:"+t.h+"px; width:"+t.p+"px; text-align:center;"),o.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+(t.M?t.M:"black")+"; position:absolute; font-size:"+(t.N?t.N:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),o.join("")}(t=i.prototype).Q="https://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",t.P="png",t.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},t.onAdd=function(){this.A||(this.A=!0,s(this))},t.draw=function(){},t.S=function(){for(var t,e=this.o(),o=new google.maps.LatLngBounds,n=0;t=e[n];n++)o.extend(t.getPosition());this.c.fitBounds(o)},t.z=n("j"),t.o=n("a"),t.V=function(){return this.a.length},t.ba=o("J"),t.I=n("J"),t.G=function(t,e){for(var o=0,n=t.length,i=n;0!==i;)i=parseInt(i/10,10),o++;return{text:n,index:o=Math.min(o,e)}},t.$=o("G"),t.H=n("G"),t.C=function(t,e){for(var o,n=0;o=t[n];n++)r(this,o);e||this.i()},t.q=function(t,e){r(this,t),e||this.i()},t.Y=function(t,e){var o=a(this,t);return!(e||!o)&&(this.m(),this.i(),!0)},t.Z=function(t,e){for(var o,n=!1,i=0;o=t[i];i++)o=a(this,o),n=n||o;if(!e&&n)return this.m(),this.i(),!0},t.U=function(){return this.f.length},t.getMap=n("c"),t.setMap=o("c"),t.w=n("g"),t.aa=o("g"),t.v=function(t){var e=this.getProjection(),o=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),n=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng());return(o=e.fromLatLngToDivPixel(o)).x+=this.g,o.y-=this.g,(n=e.fromLatLngToDivPixel(n)).x-=this.g,n.y+=this.g,o=e.fromDivPixelToLatLng(o),e=e.fromDivPixelToLatLng(n),t.extend(o),t.extend(e),t},t.R=function(){this.m(!0),this.a=[]},t.m=function(t){for(var o,n=0;o=this.f[n];n++)o.remove();for(n=0;o=this.a[n];n++)o.s=!1,t&&o.setMap(e);this.f=[]},t.L=function(){var t=this.f.slice();this.f.length=0,this.m(),this.i(),window.setTimeout(function(){for(var e,o=0;e=t[o];o++)e.remove()},0)},t.i=function(){s(this)},(t=l.prototype).q=function(t){var o;t:if(this.a.indexOf)o=-1!=this.a.indexOf(t);else{o=0;for(var n;n=this.a[o];o++)if(n==t){o=!0;break t}o=!1}if(o)return!1;if(this.d?this.r&&(n=this.a.length+1,o=(this.d.lat()*(n-1)+t.getPosition().lat())/n,n=(this.d.lng()*(n-1)+t.getPosition().lng())/n,this.d=new google.maps.LatLng(o,n),p(this)):(this.d=t.getPosition(),p(this)),t.s=!0,this.a.push(t),(o=this.a.length)<this.l&&t.getMap()!=this.c&&t.setMap(this.c),o==this.l)for(n=0;n<o;n++)this.a[n].setMap(e);if(o>=this.l&&t.setMap(e),t=this.c.getZoom(),(o=this.k.I())&&t>o)for(t=0;o=this.a[t];t++)o.setMap(this.c);else this.a.length<this.l?d(this.n):(o=this.k.H()(this.a,this.k.z().length),this.n.setCenter(this.d),(t=this.n).B=o,t.ga=o.text,t.ea=o.index,t.b&&(t.b.innerHTML=o.text),o=Math.max(0,t.B.index-1),o=Math.min(t.j.length-1,o),o=t.j[o],t.da=o.url,t.h=o.height,t.p=o.width,t.M=o.textColor,t.e=o.anchor,t.N=o.textSize,t.D=o.backgroundPosition,this.n.show());return!0},t.getBounds=function(){for(var t,e=new google.maps.LatLngBounds(this.d,this.d),o=this.o(),n=0;t=o[n];n++)e.extend(t.getPosition());return e},t.remove=function(){this.n.remove(),this.a.length=0,delete this.a},t.T=function(){return this.a.length},t.o=n("a"),t.getCenter=n("d"),t.getMap=n("c"),(t=h.prototype).onAdd=function(){this.b=document.createElement("DIV"),this.t&&(this.b.style.cssText=g(this,c(this,this.d)),this.b.innerHTML=this.B.text),this.getPanes().overlayMouseTarget.appendChild(this.b);var t=this;google.maps.event.addDomListener(this.b,"click",function(){var e=t.u.k;google.maps.event.trigger(e,"clusterclick",t.u),e.O&&t.c.fitBounds(t.u.getBounds())})},t.draw=function(){if(this.t){var t=c(this,this.d);this.b.style.top=t.y+"px",this.b.style.left=t.x+"px"}},t.show=function(){this.b&&(this.b.style.cssText=g(this,c(this,this.d)),this.b.style.display=""),this.t=!0},t.remove=function(){this.setMap(e)},t.onRemove=function(){this.b&&this.b.parentNode&&(d(this),this.b.parentNode.removeChild(this.b),this.b=e)},t.setCenter=o("d"),window.MarkerClusterer=i,i.prototype.addMarker=i.prototype.q,i.prototype.addMarkers=i.prototype.C,i.prototype.clearMarkers=i.prototype.R,i.prototype.fitMapToMarkers=i.prototype.S,i.prototype.getCalculator=i.prototype.H,i.prototype.getGridSize=i.prototype.w,i.prototype.getExtendedBounds=i.prototype.v,i.prototype.getMap=i.prototype.getMap,i.prototype.getMarkers=i.prototype.o,i.prototype.getMaxZoom=i.prototype.I,i.prototype.getStyles=i.prototype.z,i.prototype.getTotalClusters=i.prototype.U,i.prototype.getTotalMarkers=i.prototype.V,i.prototype.redraw=i.prototype.i,i.prototype.removeMarker=i.prototype.Y,i.prototype.removeMarkers=i.prototype.Z,i.prototype.resetViewport=i.prototype.m,i.prototype.repaint=i.prototype.L,i.prototype.setCalculator=i.prototype.$,i.prototype.setGridSize=i.prototype.aa,i.prototype.setMaxZoom=i.prototype.ba,i.prototype.onAdd=i.prototype.onAdd,i.prototype.draw=i.prototype.draw,l.prototype.getCenter=l.prototype.getCenter,l.prototype.getSize=l.prototype.T,l.prototype.getMarkers=l.prototype.o,h.prototype.onAdd=h.prototype.onAdd,h.prototype.draw=h.prototype.draw,h.prototype.onRemove=h.prototype.onRemove}(),function(t){var e=function(){this.markers=[],this.mainMarker=!1,this.icon="https://www.google.com/mapfiles/marker.png"};e.prototype.dist=function(t){return Math.sqrt(Math.pow(this.markers[0].latitude-t.latitude,2)+Math.pow(this.markers[0].longitude-t.longitude,2))},e.prototype.setIcon=function(t){this.icon=t},e.prototype.addMarker=function(t){this.markers[this.markers.length]=t},e.prototype.getMarker=function(){return this.mainmarker?this.mainmarker:(1<this.markers.length?(t=new o.MarkerImage("https://thydzik.com/thydzikGoogleMap/markerlink.php?text="+this.markers.length+"&color=EF9D3F"),e="cluster of "+this.markers.length+" markers"):(t=new o.MarkerImage(this.icon),e=this.markers[0].title),this.mainmarker=new o.Marker({position:new o.LatLng(this.markers[0].latitude,this.markers[0].longitude),icon:t,title:e,map:null}));var t,e};var o=google.maps,n=new o.Geocoder,i=0,r=0,a={};a={init:function(e){var n,i=t.extend({},t.fn.gMapResp.defaults,e);for(n in t.fn.gMapResp.defaults.icon)i.icon[n]||(i.icon[n]=t.fn.gMapResp.defaults.icon[n]);return this.each(function(){var e=t(this);n=a._getMapCenter.apply(e,[i]),"fit"==i.zoom&&(i.zoomFit=!0,i.zoom=a._autoZoom.apply(e,[i]));var r={zoom:i.zoom,center:n,mapTypeControl:i.mapTypeControl,mapTypeControlOptions:{},zoomControl:i.zoomControl,draggable:i.draggable,zoomControlOptions:{},scaleControl:i.scaleControl,scaleControlOptions:{},streetViewControl:i.streetViewControl,streetViewControlOptions:{},fullscreenControl:i.fullscreenControl,mapTypeId:i.maptype,scrollwheel:i.scrollwheel,maxZoom:i.maxZoom,minZoom:i.minZoom};if(i.controlsPositions.mapType&&(r.mapTypeControlOptions.position=i.controlsPositions.mapType),i.controlsPositions.zoom&&(r.zoomControlOptions.position=i.controlsPositions.zoom),i.controlsPositions.scale&&(r.scaleControlOptions.position=i.controlsPositions.scale),i.controlsPositions.streetView&&(r.streetViewControlOptions.position=i.controlsPositions.streetView),i.styles&&(r.styles=i.styles),r.mapTypeControlOptions.style=i.controlsStyle.mapType,r.zoomControlOptions.style=i.controlsStyle.zoom,r=new o.Map(this,r),i.log&&console.log("map center is:"),i.log&&console.log(n),e.data("$gmap",r),e.data("gmap",{opts:i,gmap:r,markers:[],markerKeys:{},infoWindow:null,clusters:[]}),0!==i.controls.length)for(n=0;n<i.controls.length;n+=1)r.controls[i.controls[n].pos].push(i.controls[n].div);i.clustering.enabled?((n=e.data("gmap")).markers=i.markers,a._renderCluster.apply(e,[]),o.event.addListener(r,"bounds_changed",function(){a._renderCluster.apply(e,[])})):0!==i.markers.length&&a.addMarkers.apply(e,[i.markers]),a._onComplete.apply(e,[])})},_delayedMode:!1,_onComplete:function(){var t=this.data("gmap"),e=this;if(0===i){if(a._delayedMode){var o=a._getMapCenter.apply(this,[t.opts,!0]);if(void 0!==o&&[o]!=[0,0]&&a._setMapCenter.apply(this,[o]),t.opts.zoomFit){var n=a._autoZoom.apply(this,[t.opts,!0]);t.gmap.setZoom(n)}}t.opts.onComplete()}else window.setTimeout(function(){a._onComplete.apply(e,[])},100)},_setMapCenter:function(t){var e=this.data("gmap");if(e&&e.opts.log&&console.log("delayed setMapCenter called"),e&&void 0!==e.gmap&&0==i)void 0!==t&&[t]!=[0,0]&&e.gmap.setCenter(t);else{var o=this;window.setTimeout(function(){void 0!==t&&[t]!=[0,0]&&a._setMapCenter.apply(o,[t])},100)}},_boundaries:null,_getBoundaries:function(t){var e,o=t.markers,n=1e3,i=-1e3,r=1e3,s=-1e3;if(o){for(e=0;e<o.length;e+=1)o[e].latitude&&o[e].longitude&&(n>o[e].latitude&&(n=o[e].latitude),i<o[e].longitude&&(i=o[e].longitude),r>o[e].longitude&&(r=o[e].longitude),s<o[e].latitude&&(s=o[e].latitude),t.log&&console.log(o[e].latitude,o[e].longitude,n,i,r,s));a._boundaries={N:n,E:i,W:r,S:s}}return-1e3==n&&(a._boundaries={N:0,E:0,W:0,S:0}),a._boundaries},_getBoundariesFromMarkers:function(){var t,e=this.data("gmap").markers,o=1e3,n=-1e3,i=1e3,r=-1e3;if(e){for(t=0;t<e.length;t+=1)o>e[t].getPosition().lat()&&(o=e[t].getPosition().lat()),n<e[t].getPosition().lng()&&(n=e[t].getPosition().lng()),i>e[t].getPosition().lng()&&(i=e[t].getPosition().lng()),r<e[t].getPosition().lat()&&(r=e[t].getPosition().lat());a._boundaries={N:o,E:n,W:i,S:r}}return-1e3==o&&(a._boundaries={N:0,E:0,W:0,S:0}),a._boundaries},_getMapCenter:function(t,e){var i,r,s,l,p=this;if(t.markers.length&&("fit"==t.latitude||"fit"==t.longitude))return e&&(t.markers=a._convertMarkers(data.markers)),l=a._getBoundaries(t),i=new o.LatLng((l.N+l.S)/2,(l.E+l.W)/2),t.log&&console.log(e,l,i),i;if(i=new o.LatLng(0,0),t.latitude&&t.longitude)return i=new o.LatLng(t.latitude,t.longitude);if(t.markers.length>0){for(s=null,r=0;r<t.markers.length;r+=1)if(t.markers[r].setCenter){s=t.markers[r];break}if(null===s)for(r=0;r<t.markers.length;r+=1){if(t.markers[r].latitude&&t.markers[r].longitude){s=t.markers[r];break}if(t.markers[r].address){s=t.markers[r];break}}if(null===s)return i;if(s.latitude&&s.longitude)return new o.LatLng(s.latitude,s.longitude);s.address&&n.geocode({address:s.address},function(e,o){o===google.maps.GeocoderStatus.OK?a._setMapCenter.apply(p,[e[0].geometry.location]):t.log&&console.log("Geocode was not successful for the following reason: "+o)})}},_renderCluster:function(){var t,o=this.data("gmap"),n=o.markers,i=o.clusters,r=o.opts;for(t=0;t<i.length;t+=1)i[t].getMarker().setMap(null);if(i.length=0,t=o.gmap.getBounds()){var s=t.getNorthEast(),l=t.getSouthWest(),p=[],h=(s.lat()-l.lat())*r.clustering.clusterSize/100;for(t=0;t<n.length;t+=1)n[t].latitude<s.lat()&&n[t].latitude>l.lat()&&n[t].longitude<s.lng()&&n[t].longitude>l.lng()&&(p[p.length]=n[t]);for(r.log&&console.log("number of markers "+p.length+"/"+n.length),r.log&&console.log("cluster radius: "+h),t=0;t<p.length;t+=1){for(s=-1,n=0;n<i.length&&!((l=i[n].dist(p[t]))<h&&(s=n,r.clustering.fastClustering));n+=1);-1===s?((n=new e).addMarker(p[t]),i[i.length]=n):i[s].addMarker(p[t])}for(r.log&&console.log("Total clusters in viewport: "+i.length),n=0;n<i.length;n+=1)i[n].getMarker().setMap(o.gmap)}else{var c=this;window.setTimeout(function(){a._renderCluster.apply(c)},1e3)}},_processMarker:function(t,e,n,i){var r,a,s=this.data("gmap"),l=s.gmap,p=s.opts;if(void 0===i&&(i=new o.LatLng(t.latitude,t.longitude)),!e){var h={image:p.icon.image,iconSize:new o.Size(p.icon.iconsize[0],p.icon.iconsize[1]),iconAnchor:new o.Point(p.icon.iconanchor[0],p.icon.iconanchor[1]),infoWindowAnchor:new o.Size(p.icon.infowindowanchor[0],p.icon.infowindowanchor[1])};e=new o.MarkerImage(h.image,h.iconSize,null,h.iconAnchor)}n||(new o.Size(p.icon.shadowsize[0],p.icon.shadowsize[1]),h&&h.iconAnchor||new o.Point(p.icon.iconanchor[0],p.icon.iconanchor[1])),e={position:i,icon:e,title:t.title,map:null,draggable:!0===t.draggable},p.clustering.enabled||(e.map=l),(r=new o.Marker(e)).setShadow(n),s.markers.push(r),t.key&&(s.markerKeys[t.key]=r),t.html&&(n={content:"string"==typeof t.html?p.html_prepend+t.html+p.html_append:t.html,pixelOffset:t.infoWindowAnchor},p.log&&console.log("setup popup with data"),p.log&&console.log(n),a=new o.InfoWindow(n),o.event.addListener(r,"click",function(){p.log&&console.log("opening popup "+t.html),p.singleInfoWindow&&s.infoWindow&&s.infoWindow.close(),a.open(l,r),s.infoWindow=a})),t.html&&t.popup&&(p.log&&console.log("opening popup "+t.html),a.open(l,r),s.infoWindow=a),t.onDragEnd&&o.event.addListener(r,"dragend",function(e){p.log&&console.log("drag end"),t.onDragEnd(e)})},_geocodeMarker:function(t,e,s){var l=this;n.geocode({address:t.address},function(n,p){p===o.GeocoderStatus.OK?(i-=1,l.data("gmap").opts.log&&console.log("Geocode was successful with point: ",n[0].geometry.location),a._processMarker.apply(l,[t,e,s,n[0].geometry.location])):(p===o.GeocoderStatus.OVER_QUERY_LIMIT&&(!l.data("gmap").opts.noAlerts&&0===r&&alert("Error: too many geocoded addresses! Switching to 1 marker/s mode."),r+=1e3,window.setTimeout(function(){a._geocodeMarker.apply(l,[t,e,s])},r)),l.data("gmap").opts.log&&console.log("Geocode was not successful for the following reason: "+p))})},_autoZoom:function(e,o){var n,i,r=t(this).data("gmap"),s=t.extend({},r?r.opts:{},e);r=39135.758482;for(s.log&&console.log("autozooming map"),s=111e3*((n=o?a._getBoundariesFromMarkers.apply(this):a._getBoundaries(s)).E-n.W)/this.width(),i=111e3*(n.S-n.N)/this.height(),n=2;20>n&&!(s>r||i>r);n+=1)r/=2;return n-2},addMarkers:function(t){var e=this.data("gmap").opts;if(0!==t.length)for(e.log&&console.log("adding "+t.length+" markers"),e=0;e<t.length;e+=1)a.addMarker.apply(this,[t[e]])},addMarker:function(t){var e=this.data("gmap").opts;e.log&&console.log("putting marker at "+t.latitude+", "+t.longitude+" with address "+t.address+" and html "+t.html);var n=e.icon.image,r=new o.Size(e.icon.iconsize[0],e.icon.iconsize[1]),s=(new o.Point(e.icon.iconanchor[0],e.icon.iconanchor[1]),new o.Size(e.icon.infowindowanchor[0],e.icon.infowindowanchor[1])),l=e.icon.shadow,p=new o.Size(e.icon.shadowsize[0],e.icon.shadowsize[1]),h=new o.Point(e.icon.shadowanchor[0],e.icon.shadowanchor[1]);t.infoWindowAnchor=s,t.icon&&(t.icon.image&&(n=t.icon.image),t.icon.iconsize&&(r=new o.Size(t.icon.iconsize[0],t.icon.iconsize[1])),t.icon.iconanchor&&new o.Point(t.icon.iconanchor[0],t.icon.iconanchor[1]),t.icon.infowindowanchor&&new o.Size(t.icon.infowindowanchor[0],t.icon.infowindowanchor[1]),t.icon.shadow&&(l=t.icon.shadow),t.icon.shadowsize&&(p=new o.Size(t.icon.shadowsize[0],t.icon.shadowsize[1])),t.icon.shadowanchor&&(h=new o.Point(t.icon.shadowanchor[0],t.icon.shadowanchor[1]))),n=void 0===t.icon.iconsize?new o.MarkerImage(n):new o.MarkerImage(n,null,null,null,r),l=new o.MarkerImage(l,p,null,h),t.address?("_address"===t.html&&(t.html=t.address),"_address"==t.title&&(t.title=t.address),e.log&&console.log("geocoding marker: "+t.address),i+=1,a._delayedMode=!0,a._geocodeMarker.apply(this,[t,n,l])):("_latlng"===t.html&&(t.html=t.latitude+", "+t.longitude),"_latlng"==t.title&&(t.title=t.latitude+", "+t.longitude),e=new o.LatLng(t.latitude,t.longitude),a._processMarker.apply(this,[t,n,l,e]))},removeAllMarkers:function(){var t,e=this.data("gmap").markers;for(t=0;t<e.length;t+=1)e[t].setMap(null),delete e[t];e.length=0},getMarker:function(t){return this.data("gmap").markerKeys[t]},fixAfterResize:function(t){var e=this.data("gmap");if(void 0!==e){o.event.trigger(e.gmap,"resize");var n=this.gMapResp("_getMapCenter",e.opts);void 0!==n&&[n]!=[0,0]&&e.gmap.panTo(n)}},setZoom:function(t,e,o){var n=this.data("gmap").gmap;"fit"===t&&(t=a._autoZoom.apply(this,[e,o])),n.setZoom(parseInt(t))},changeSettings:function(t){var e,o=this.data("gmap"),n=[];for(e=0;e<o.markers.length;e+=1)n[e]={latitude:o.markers[e].getPosition().lat(),longitude:o.markers[e].getPosition().lng()};if(t.markers=n,t.zoom&&a.setZoom.apply(this,[t.zoom,t]),t.latitude||t.longitude){var i=a._getMapCenter.apply(this,[t]);void 0!==i&&[i]!=[0,0]&&o.gmap.panTo(i)}},mapclick:function(t){google.maps.event.addListener(this.data("gmap").gmap,"click",function(e){t(e.latLng)})},geocode:function(t,e,i){n.geocode({address:t},function(t,n){n===o.GeocoderStatus.OK?e(t[0].geometry.location):i&&i(t,n)})},getRoute:function(e){var n,i,r=this.data("gmap"),a=r.gmap,s=new o.DirectionsRenderer,l=new o.DirectionsService,p={BYCAR:o.DirectionsTravelMode.DRIVING,BYBICYCLE:o.DirectionsTravelMode.BICYCLING,BYFOOT:o.DirectionsTravelMode.WALKING},h={MILES:o.DirectionsUnitSystem.IMPERIAL,KM:o.DirectionsUnitSystem.METRIC},c=null;return void 0!==e.routeDisplay?c=e.routeDisplay instanceof jQuery?e.routeDisplay[0]:"string"==typeof e.routeDisplay?t(e.routeDisplay)[0]:null:null!==r.opts.routeFinder.routeDisplay&&(c=r.opts.routeFinder.routeDisplay instanceof jQuery?r.opts.routeFinder.routeDisplay[0]:"string"==typeof r.opts.routeFinder.routeDisplay?t(r.opts.routeFinder.routeDisplay)[0]:null),s.setMap(a),null!==c&&s.setPanel(c),n=void 0!==p[r.opts.routeFinder.travelMode]?p[r.opts.routeFinder.travelMode]:p.BYCAR,i=void 0!==h[r.opts.routeFinder.travelUnit]?h[r.opts.routeFinder.travelUnit]:h.KM,l.route({origin:e.from,destination:e.to,travelMode:n,unitSystem:i},function(e,n){n==o.DirectionsStatus.OK?s.setDirections(e):null!==c&&t(c).html(r.opts.routeFinder.routeErrors[n])}),this}};t.fn.gMapResp=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.gmap"):a.init.apply(this,arguments)},t.fn.gMapResp.defaults={log:!1,noAlerts:!0,address:"",latitude:null,longitude:null,zoom:3,maxZoom:null,minZoom:null,markers:[],controls:{},scrollwheel:!0,maptype:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,zoomControl:!0,draggable:!0,scaleControl:!1,streetViewControl:!0,fullscreenControl:!0,controlsPositions:{mapType:null,zoom:null,scale:null,streetView:null},controlsStyle:{mapType:google.maps.MapTypeControlStyle.DEFAULT,zoom:google.maps.ZoomControlStyle.DEFAULT},singleInfoWindow:!0,html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"https://www.google.com/mapfiles/marker.png",iconsize:[20,34],iconanchor:[9,34],infowindowanchor:[0,0],shadow:"https://www.google.com/mapfiles/shadow50.png",shadowsize:[37,34],shadowanchor:[9,34]},onComplete:function(){},routeFinder:{travelMode:"BYCAR",travelUnit:"KM",routeDisplay:null,routeErrors:{INVALID_REQUEST:"The provided request is invalid.",NOT_FOUND:"One or more of the given addresses could not be found.",OVER_QUERY_LIMIT:"A temporary error occured. Please try again in a few minutes.",REQUEST_DENIED:"An error occured. Please contact us.",UNKNOWN_ERROR:"An unknown error occured. Please try again.",ZERO_RESULTS:"No route could be found within the given addresses."}},clustering:{enabled:!1,fastClustering:!1,clusterCount:10,clusterSize:40}}}(jQuery),function(){function t(){}function e(t){return r.retinaImageSuffix+t}function o(t,o){if(this.path=t||"",null!=o)this.at_2x_path=o,this.perform_check=!1;else{if(void 0!==document.createElement){var n=document.createElement("a");n.href=this.path,n.pathname=n.pathname.replace(a,e),this.at_2x_path=n.href}else{var i=this.path.split("?");i[0]=i[0].replace(a,e),this.at_2x_path=i.join("?")}this.perform_check=!0}}function n(t){this.el=t,this.path=new o(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var e=this;this.path.check_2x_variant(function(t){t&&e.swap()})}var i="undefined"==typeof exports?window:exports,r={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};i.Retina=t,t.configure=function(t){for(var e in null===t&&(t={}),t)t.hasOwnProperty(e)&&(r[e]=t[e])},t.init=function(t){null===t&&(t=i);var e=t.onload||function(){};t.onload=function(){var t,o,i=document.getElementsByTagName("img"),r=[];for(t=0;t<i.length;t+=1)(o=i[t]).getAttributeNode("data-no-retina")||r.push(new n(o));e()}},t.isRetina=function(){return i.devicePixelRatio>1||!(!i.matchMedia||!i.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches)};var a=/\.\w+$/;i.RetinaImagePath=o,o.confirmed_paths=[],o.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},o.prototype.check_2x_variant=function(t){var e,n=this;return this.is_external()?t(!1):this.perform_check||void 0===this.at_2x_path||null===this.at_2x_path?this.at_2x_path in o.confirmed_paths?t(!0):((e=new XMLHttpRequest).open("HEAD",this.at_2x_path),e.onreadystatechange=function(){if(4!==e.readyState)return t(!1);if(e.status>=200&&e.status<=399){if(r.check_mime_type){var i=e.getResponseHeader("Content-Type");if(null===i||!i.match(/^image/i))return t(!1)}return o.confirmed_paths.push(n.at_2x_path),t(!0)}return t(!1)},void e.send()):t(!0)},i.RetinaImage=n,n.prototype.swap=function(t){void 0===t&&(t=this.path.at_2x_path);var e=this;!function o(){e.el.complete?(r.force_original_dimensions&&(e.el.setAttribute("width",e.el.offsetWidth),e.el.setAttribute("height",e.el.offsetHeight)),e.el.setAttribute("src",t)):setTimeout(o,5)}()},t.isRetina()&&t.init(i)}();